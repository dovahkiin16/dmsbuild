(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cf0accc"],{"4cda":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("Breadcrumbs",{attrs:{title:"Vaccine Inventory Logs (CSM)",icon:"mdi-post",items:t.breadcrumbsItems}}),r("DashboardTitle"),r("VaccineLogsTable")],1)},n=[],i=r("a6a3"),o=r("bfc7"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto"},[r("v-card-title",[r("v-row",[r("v-col",[t._v(" Vaccine inventory logs ")]),r("v-spacer"),r("v-col",[r("v-select",{attrs:{label:"Storage filter",items:t.storages},model:{value:t.storageFilter,callback:function(e){t.storageFilter=e},expression:"storageFilter"}})],1),r("v-col",[r("v-select",{attrs:{label:"Manufacturer filter",items:t.mfrs},model:{value:t.mfrFilter,callback:function(e){t.mfrFilter=e},expression:"mfrFilter"}})],1),r("v-col",{staticClass:"ml-2"},[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search (Serial/Lot)","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),r("v-data-table",{attrs:{headers:t.headers,items:t.filteredItems,loading:t.isLoadingItems,search:t.search,"item-key":"id"},scopedSlots:t._u([{key:"item.transaction_type",fn:function(e){var r=e.item;return[t._v(" "+t._s("incoming"===r.transaction_type?"Incoming":"Outgoing")+" ")]}},{key:"item.created_at",fn:function(e){var r=e.item;return[t._v(" "+t._s(t.formatDate(r.created_at))+" ")]}}])})],1)},u=[],s=r("2909"),l=r("1da1"),d=(r("96cf"),r("159b"),r("caad"),r("99af"),r("4de4"),r("d81d"),r("b0c0"),r("bc3a")),f=r.n(d),m=r("b166"),g={name:"CsmVaccineLogsTable",data:function(){return{headers:[{text:"Transaction",value:"transaction_type",filterable:!1},{text:"Amount",value:"amount",filterable:!1},{text:"Manufacturer",value:"manufacturer",filterable:!1},{text:"Storage",value:"storage_unit_name",filterable:!1},{text:"Serial",value:"serial"},{text:"Lot number",value:"lot_no"},{text:"Notes",value:"comments",filterable:!0},{text:"Timestamp",value:"created_at",filterable:!1}],alert:{isOpen:!1,type:"warning",message:"Something went wrong. Please contact your IT.",color:"warning"},items:[],storages:[],isLoadingItems:!1,search:"",mfrFilter:"All",storageFilter:"Any"}},created:function(){this.fetchVaccineLogs(),this.fetchStorageUnits()},computed:{mfrs:function(){var t=[];return this.items.forEach((function(e){t.includes(e.manufacturer)||t.push(e.manufacturer)})),console.log(this.items),["All"].concat(t)},filteredItems:function(){var t=this,e=this.items;return"All"!==this.mfrFilter&&(e=e.filter((function(e){return e.manufacturer===t.mfrFilter}))),"Any"!==this.storageFilter&&(e=e.filter((function(e){return e.storage_unit_name===t.storageFilter}))),e}},methods:{fetchStorageUnits:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="http://172.1.1.2:3000",a=localStorage.getItem("dms-token"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=3,e.next=6,f.a.get("".concat(r,"/storage-units"),n);case 6:i=e.sent,o=i.data,c=o.map((function(t){return t.name})),t.storages=["Any"].concat(Object(s["a"])(c)),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](3),401===(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u?void 0:u.status)&&(localStorage.removeItem("dms-token"),t.$router.push("/csm/login")),t.alert.isOpen=!0;case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))()},fetchVaccineLogs:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,n,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoadingItems=!0,r="http://172.1.1.2:3000",a=localStorage.getItem("dms-token"),n={headers:{Authorization:"Bearer ".concat(a)}},e.prev=4,e.next=7,f.a.get("".concat(r,"/vaccine-logs"),n);case 7:i=e.sent,o=i.data,t.items=o,t.isLoadingItems=!1,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](4),401===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)&&(localStorage.removeItem("dms-token"),t.$router.push("/csm/login")),t.alert.isOpen=!0;case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))()},formatDate:function(t){return Object(m["a"])(new Date(t),"PPpp")}}},h=g,b=r("2877"),w=r("6544"),v=r.n(w),x=r("b0af"),p=r("99d9"),y=r("62ad"),T=r("8fea"),O=r("0fd9"),C=r("b974"),M=r("2fa4"),S=r("8654"),k=Object(b["a"])(h,c,u,!1,null,null,null),L=k.exports;v()(k,{VCard:x["a"],VCardTitle:p["d"],VCol:y["a"],VDataTable:T["a"],VRow:O["a"],VSelect:C["a"],VSpacer:M["a"],VTextField:S["a"]});var U={name:"CsmInventoryLogs",components:{DashboardTitle:o["a"],Breadcrumbs:i["a"],VaccineLogsTable:L},data:function(){return{breadcrumbsItems:[{text:"Home",disabled:!1},{text:"Vaccine Inventory Logs",disabled:!1}]}}},E=U,D=r("a523"),_=Object(b["a"])(E,a,n,!1,null,null,null);e["default"]=_.exports;v()(_,{VContainer:D["a"]})},b166:function(t,e,r){"use strict";r.d(e,"a",(function(){return _}));var a=r("49ef"),n=r("8923"),i=r("83d2"),o=r("fd3a");function c(t,e){var r=t<0?"-":"",a=Math.abs(t).toString();while(a.length<e)a="0"+a;return r+a}var u={y:function(t,e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return c("yy"===e?a%100:a,e.length)},M:function(t,e){var r=t.getUTCMonth();return"M"===e?String(r+1):c(r+1,2)},d:function(t,e){return c(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return"am"===r?"a.m.":"p.m."}},h:function(t,e){return c(t.getUTCHours()%12||12,e.length)},H:function(t,e){return c(t.getUTCHours(),e.length)},m:function(t,e){return c(t.getUTCMinutes(),e.length)},s:function(t,e){return c(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,a=t.getUTCMilliseconds(),n=Math.floor(a*Math.pow(10,r-3));return c(n,e.length)}},s=u,l=r("8c86"),d=864e5;function f(t){Object(l["a"])(1,arguments);var e=Object(o["a"])(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var a=e.getTime(),n=r-a;return Math.floor(n/d)+1}var m=r("9606"),g=r("82bd"),h=r("12ba"),b=r("4b3c"),w={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v={G:function(t,e,r){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if("yo"===e){var a=t.getUTCFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return s.y(t,e)},Y:function(t,e,r,a){var n=Object(b["a"])(t,a),i=n>0?n:1-n;if("YY"===e){var o=i%100;return c(o,2)}return"Yo"===e?r.ordinalNumber(i,{unit:"year"}):c(i,e.length)},R:function(t,e){var r=Object(g["a"])(t);return c(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return c(r,e.length)},Q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return c(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return c(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){var a=t.getUTCMonth();switch(e){case"M":case"MM":return s.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return c(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){var n=Object(h["a"])(t,a);return"wo"===e?r.ordinalNumber(n,{unit:"week"}):c(n,e.length)},I:function(t,e,r){var a=Object(m["a"])(t);return"Io"===e?r.ordinalNumber(a,{unit:"week"}):c(a,e.length)},d:function(t,e,r){return"do"===e?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):s.d(t,e)},D:function(t,e,r){var a=f(t);return"Do"===e?r.ordinalNumber(a,{unit:"dayOfYear"}):c(a,e.length)},E:function(t,e,r){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){var n=t.getUTCDay(),i=(n-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return c(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){var n=t.getUTCDay(),i=(n-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return c(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,e,r){var a=t.getUTCDay(),n=0===a?7:a;switch(e){case"i":return String(n);case"ii":return c(n,e.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){var a=t.getUTCHours(),n=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){var a,n=t.getUTCHours();switch(a=12===n?w.noon:0===n?w.midnight:n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){var a,n=t.getUTCHours();switch(a=n>=17?w.evening:n>=12?w.afternoon:n>=4?w.morning:w.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if("ho"===e){var a=t.getUTCHours()%12;return 0===a&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return s.h(t,e)},H:function(t,e,r){return"Ho"===e?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):s.H(t,e)},K:function(t,e,r){var a=t.getUTCHours()%12;return"Ko"===e?r.ordinalNumber(a,{unit:"hour"}):c(a,e.length)},k:function(t,e,r){var a=t.getUTCHours();return 0===a&&(a=24),"ko"===e?r.ordinalNumber(a,{unit:"hour"}):c(a,e.length)},m:function(t,e,r){return"mo"===e?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):s.m(t,e)},s:function(t,e,r){return"so"===e?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):s.s(t,e)},S:function(t,e){return s.S(t,e)},X:function(t,e,r,a){var n=a._originalDate||t,i=n.getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return p(i);case"XXXX":case"XX":return y(i);case"XXXXX":case"XXX":default:return y(i,":")}},x:function(t,e,r,a){var n=a._originalDate||t,i=n.getTimezoneOffset();switch(e){case"x":return p(i);case"xxxx":case"xx":return y(i);case"xxxxx":case"xxx":default:return y(i,":")}},O:function(t,e,r,a){var n=a._originalDate||t,i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+x(i,":");case"OOOO":default:return"GMT"+y(i,":")}},z:function(t,e,r,a){var n=a._originalDate||t,i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+x(i,":");case"zzzz":default:return"GMT"+y(i,":")}},t:function(t,e,r,a){var n=a._originalDate||t,i=Math.floor(n.getTime()/1e3);return c(i,e.length)},T:function(t,e,r,a){var n=a._originalDate||t,i=n.getTime();return c(i,e.length)}};function x(t,e){var r=t>0?"-":"+",a=Math.abs(t),n=Math.floor(a/60),i=a%60;if(0===i)return r+String(n);var o=e||"";return r+String(n)+o+c(i,2)}function p(t,e){if(t%60===0){var r=t>0?"-":"+";return r+c(Math.abs(t)/60,2)}return y(t,e)}function y(t,e){var r=e||"",a=t>0?"-":"+",n=Math.abs(t),i=c(Math.floor(n/60),2),o=c(n%60,2);return a+i+r+o}var T=v,O=r("21be"),C=r("2420"),M=r("dd11"),S=r("fe1f"),k=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U=/^'([^]*?)'?$/,E=/''/g,D=/[a-zA-Z]/;function _(t,e,r){Object(l["a"])(2,arguments);var c=String(e),u=r||{},s=u.locale||n["a"],d=s.options&&s.options.firstWeekContainsDate,f=null==d?1:Object(S["a"])(d),m=null==u.firstWeekContainsDate?f:Object(S["a"])(u.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=s.options&&s.options.weekStartsOn,h=null==g?0:Object(S["a"])(g),b=null==u.weekStartsOn?h:Object(S["a"])(u.weekStartsOn);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!s.localize)throw new RangeError("locale must contain localize property");if(!s.formatLong)throw new RangeError("locale must contain formatLong property");var w=Object(o["a"])(t);if(!Object(a["a"])(w))throw new RangeError("Invalid time value");var v=Object(C["a"])(w),x=Object(i["a"])(w,v),p={firstWeekContainsDate:m,weekStartsOn:b,locale:s,_originalDate:w},y=c.match(L).map((function(t){var e=t[0];if("p"===e||"P"===e){var r=O["a"][e];return r(t,s.formatLong,p)}return t})).join("").match(k).map((function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return j(r);var n=T[a];if(n)return!u.useAdditionalWeekYearTokens&&Object(M["b"])(r)&&Object(M["c"])(r,e,t),!u.useAdditionalDayOfYearTokens&&Object(M["a"])(r)&&Object(M["c"])(r,e,t),n(x,r,s.localize,p);if(a.match(D))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r})).join("");return y}function j(t){return t.match(U)[1].replace(E,"'")}}}]);
//# sourceMappingURL=chunk-3cf0accc.f54f6c87.js.map